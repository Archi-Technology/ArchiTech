/* Multi-select specific styles that extend the standard input */
.multiselect-input {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: relative;
    min-height: 48px;
    /* Ensure consistent height */
    padding: 8px 16px;
    /* Adjust padding for chips */

    &:hover {
        border-color: #c1c7cd;
    }

    &:focus {
        outline: none;
        border-color: #0066ff;
        box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
    }

    &.error {
        border-color: #dc3545;
        background-color: #fff5f5;

        &:focus {
            border-color: #dc3545;
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
        }
    }
}

.multiselect-value {
    flex: 1;
    display: flex;
    align-items: center;
    min-height: 20px;

    .placeholder {
        color: #9ca3af;
        font-size: 14px;
    }
}

.selected-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    align-items: center;

    .chip {
        background-color: #e1f5fe;
        color: #0066ff;
        padding: 4px 8px;
        border-radius: 16px;
        font-size: 12px;
        font-weight: 500;
        border: 1px solid #b3e5fc;
        display: inline-flex;
        align-items: center;
        max-width: 120px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
}

.multiselect-arrow {
    margin-left: 8px;
    color: #6b7280;
    display: flex;
    align-items: center;
    pointer-events: none;
}

.multiselect-dropdown {
    position: absolute;
    left: 0;
    right: 0;
    top: calc(100% + 4px);
    z-index: 1000;
    background: #ffffff;
    border: 2px solid #e1e5e9;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    max-height: 200px;
    overflow-y: auto;

    /* Custom scrollbar */
    &::-webkit-scrollbar {
        width: 6px;
    }

    &::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 3px;
    }

    &::-webkit-scrollbar-thumb {
        background: #c1c7cd;
        border-radius: 3px;

        &:hover {
            background: #a1a7ad;
        }
    }
}

.multiselect-option {
    padding: 12px 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 12px;
    transition: background-color 0.2s ease;
    border-bottom: 1px solid #f3f4f6;

    &:last-child {
        border-bottom: none;
    }

    &:hover:not(.disabled) {
        background-color: #f8fafc;
    }

    &.selected {
        background-color: #eff6ff;
        color: #0066ff;
    }

    &.disabled {
        color: #9ca3af;
        cursor: not-allowed;
        background-color: #f9fafb;
    }
}

.option-checkbox {
    width: 16px;
    height: 16px;
    border: 2px solid #d1d5db;
    border-radius: 3px;
    cursor: pointer;
    position: relative;

    &:checked {
        background-color: #0066ff;
        border-color: #0066ff;

        &::after {
            content: 'âœ“';
            position: absolute;
            top: -2px;
            left: 1px;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
    }
}

.option-label {
    flex: 1;
    font-size: 14px;
    color: #333333;

    .multiselect-option.selected & {
        font-weight: 500;
    }

    .multiselect-option.disabled & {
        color: #9ca3af;
    }
}

/* Ensure the dropdown appears above other elements */
.popup-selection {
    position: relative;
}

/* Animation for shake effect - matches the standard input */
@keyframes shake {

    0%,
    100% {
        transform: translateX(0);
    }

    10%,
    30%,
    50%,
    70%,
    90% {
        transform: translateX(-5px);
    }

    20%,
    40%,
    60%,
    80% {
        transform: translateX(5px);
    }
}